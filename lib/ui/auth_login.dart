import 'dart:convert';import 'package:dio/dio.dart';import 'package:flutter/material.dart';import 'package:flutter_hive_database/service/client_service.dart';import 'package:flutter_hive_database/ui/home_page.dart';class AuthLoginPage extends StatefulWidget {  const AuthLoginPage({Key? key}) : super(key: key);  @override  State<AuthLoginPage> createState() => _AuthLoginPageState();}class _AuthLoginPageState extends State<AuthLoginPage> {  final TextEditingController  _usernameController=TextEditingController();  final TextEditingController  _passwordController=TextEditingController();  @override  Widget build(BuildContext context) {    return Scaffold(      appBar: AppBar(        title: Text(" Flutter Dio JWT Login "),        centerTitle: true,      ),      body:   Padding(        padding: const EdgeInsets.all(10.0),        child: SafeArea(          child: Center(            child: Column(              mainAxisAlignment: MainAxisAlignment.center,              children: [                TextFormField(                  controller: _usernameController,                  decoration: InputDecoration(                    labelText:"Username",                    border:OutlineInputBorder(),                    suffixIcon: Icon(Icons.email),                  ),                ),                SizedBox(                  height: 15,                ),                TextFormField(                  controller: _passwordController,                  maxLength: 14 ,                  decoration: InputDecoration(                    labelText:" Password ",                    border:OutlineInputBorder(),                    suffixIcon: Icon(Icons.password_outlined),                  ),                ),                SizedBox(                  height: 45,                ),                OutlinedButton.icon(                    onPressed: (){                      authlogin();                      setState(() {                      });                    },                    icon: Icon(Icons.login,size: 18,),                    label: Text("Login"))              ],            ),          ),        ),      ),    );  }  Future<void>  authlogin() async{    if(_passwordController.text.isNotEmpty && _usernameController.text.isNotEmpty){      print(" Backend API ishladi >>>> ");      DioClient().login(_usernameController.text,_passwordController.text);      Navigator.push(context,MaterialPageRoute(builder:(context) =>  HomePage()));      /*if(response.statusCode==200){        print(" Backend API ishladi >>>> ");        DioClient().login(_usernameController.text,_passwordController.text);        Navigator.push(context,MaterialPageRoute(builder:(context) =>  HomePage()));      }else{            ScaffoldMessenger.of(context).showSnackBar(SnackBar(content: Text(" Invalid  Credentials.")));      }*/    }else{            ScaffoldMessenger.of(context).showSnackBar(SnackBar(content: Text(" Black  Fin Not  Allowed  ")));    }  }}